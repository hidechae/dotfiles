<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>関数の TRUE/FALSE 返り値</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="migration.booleval.html">短絡的なブール評価</a></div>
 <div class="next" style="float: right;"><a href="migration-other.html">その他の互換性</a></div>
 <div class="up"><a href="migration.html">PHP/FI 2 から PHP 3 への移行</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="migration.truefalse" class="section">
  <h2 class="title">関数の <b><tt>TRUE</tt></b>/<b><tt>FALSE</tt></b> 返り値</h2>
  <p class="simpara">
   ほとんどの内部関数が書き直されたのに伴い、PHP/FI 2.0 では成功時に
   0、失敗時に -1 を返していたのが、それぞれ <b><tt>TRUE</tt></b> と <b><tt>FALSE</tt></b>
   を返すように変更されました。
   この新しい振る舞いにより、
   <i class="literal">$fp = fopen(&quot;/your/file&quot;) or fail(&quot;darn!&quot;);</i>
   のようなより論理的なコードを書く事ができるようになりました。
   PHP/FI 2.0 には、関数がその実行に失敗した時に、
   何を返すべきかという明瞭なルールがなかったので、
   そのようなスクリプトのほとんどは、2.0 から 3.0 のコンバータを使った後に、
   手作業でチェックしなければならないと思います。
  </p>
  <p class="para">
   <div class="example">
    <p><b>Example#1 2.0 からの移行: 返り値、古いコード</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
$fp&nbsp;=&nbsp;fopen($file,&nbsp;"r");<br />if&nbsp;($fp&nbsp;==&nbsp;-1);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo("$file&nbsp;を読み込み専用として開くことが出来ませんでした&lt;br&nbsp;/&gt;\n");<br />endif;</span>
</code></div>
    </div>

   </div>
   <div class="example">
    <p><b>Example#2 2.0 からの移行: 返り値、新しいコード</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
$fp&nbsp;=&nbsp;@fopen($file,&nbsp;"r")&nbsp;or&nbsp;print("$file&nbsp;を読み込み用として開くことができませんでした&lt;br&nbsp;/&gt;\n");</span>
</code></div>
    </div>

   </div>
  </p>
 </div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="migration.booleval.html">短絡的なブール評価</a></div>
 <div class="next" style="float: right;"><a href="migration-other.html">その他の互換性</a></div>
 <div class="up"><a href="migration.html">PHP/FI 2 から PHP 3 への移行</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
