<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Swish 関数</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.swf-viewport.html">swf_viewport</a></div>
 <div class="next" style="float: right;"><a href="function.swish-construct.html">Swish::__construct</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">Swish 関数</h1>
  
  <div class="partintro">
   <div id="swish.intro" class="section">
     <h2 class="title">導入</h2>
   <p class="para">
    swish 拡張モジュールは、Swish-e API 用のバインディングを提供します。
    Swish-e は &quot;Simple Web Indexing System for Humans - Enhanced&quot;
    を略したもので、オープンソースのインデックス作成/検索システムです。
    Swish-e 自体のライセンスは GPL ですが、Swish-e ソースコードの
    URL にあるように、アプリケーションからそのライブラリにリンクすることができます。
    <a href="http://swish-e.org" class="link external">&raquo; http://swish-e.org</a>
    を参照ください。
   </p>
   
   <div class="warning"><b class="warning">警告</b><p class="simpara">この拡張モジュールは、
<em class="emphasis">実験的</em> なものです。この拡張モジュールの動作・
関数名・その他ドキュメントに書かれている事項は、予告なく、将来的な PHP
のリリースにおいて変更される可能性があります。
このモジュールは自己責任で使用してください。</p></div>
  
  </div>
  <div id="swish.requirements" class="section">
   <h2 class="title">要件</h2>
   <p class="para">
    PECL/swish は、PHP 5.1.3 以降で動作します。
   </p>
  </div>
  <div id="swish.install" class="section">
   <h2 class="title">インストール手順</h2>
   <p class="para">
    この PECL 拡張モジュールをインストールする方法は、
マニュアルの <a href="install.pecl.html" class="link">
PECL 拡張モジュールのインストール</a> という章にあります。
新規リリース・ダウンロード・ソースファイル・管理者情報・CHANGELOG
といった関連する情報については、次の場所にあります。
    <a href="http://pecl.php.net/package/swish" class="link external">&raquo; http://pecl.php.net/package/swish</a>.
   </p>
   <p class="para">
    最新の PECL/swish Win32 DLL のダウンロード先はこちらです。
    <a href="http://pecl4win.php.net/ext.php/php_swish.dll" class="link external">&raquo; php_swish.dll</a>
   </p>
  </div>
  <div id="swish.configuration" class="section">
   <h2 class="title">実行時設定</h2>
   <p class="para">設定ディレクティブは定義されていません。</p>
  </div>
  <div id="swish.examples" class="section">
   <h2 class="title">例</h2>
   <p class="para">
    <div class="example">
     <p><b>Example#1 基本的な検索クエリ</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">try&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$swish&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Swish</span><span style="color: #007700">(</span><span style="color: #DD0000">"index.swish-e"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$results&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$swish</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">"test&nbsp;OR&nbsp;text"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Found&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hits</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&nbsp;results\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nextResult</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;&nbsp;</span><span style="color: #FF8000">//break&nbsp;after&nbsp;the&nbsp;first&nbsp;result<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">SwishException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Error:&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

    </div>
   </p>
   <p class="para">上の例の出力は、たとえば
以下のようになります。</p>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Found 9 results
object(SwishResult)#3 (8) {
  [&quot;swishreccount&quot;]=&gt;
  int(1)
  [&quot;swishrank&quot;]=&gt;
  int(1000)
  [&quot;swishfilenum&quot;]=&gt;
  int(10)
  [&quot;swishdbfile&quot;]=&gt;
  string(13) &quot;index.swish-e&quot;
  [&quot;swishdocpath&quot;]=&gt;
  string(23) &quot;README.SUBMITTING_PATCH&quot;
  [&quot;swishtitle&quot;]=&gt;
  NULL
  [&quot;swishdocsize&quot;]=&gt;
  int(4557)
  [&quot;swishlastmodified&quot;]=&gt;
  int(1072136752)
}
</pre></div>
   </pre></div>
  </div>
  


<div id="swish.constants" class="section">
 <h2 class="title">定義済み定数</h2>
 <p class="simpara">
以下の定数が定義されています。
この関数の拡張モジュールが PHP 組み込みでコンパイルされているか、
実行時に動的にロードされている場合のみ使用可能です。
</p>
 <dl>

  <dt>

   <span class="term">
    <b><tt>Swish::META_TYPE_UNDEF</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::META_TYPE_STRING</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::META_TYPE_ULONG</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::META_TYPE_DATE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_FILE_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_TITLE_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_HEAD_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_BODY_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_COMMENTS_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_HEADER_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_EMPHASIZED_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_META_BIT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_FILE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_TITLE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_HEAD</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_BODY</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_COMMENTS</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_HEADER</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_EMPHASIZED</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_META</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>Swish::IN_ALL</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
    </span>
   </dd>

  </dt>

 </dl>

</div>




  


<div id="swish.classes" class="section">
 <h2 class="title">定義済みクラス</h2>
  <div class="section">
   <h2 class="title">定義済みクラス</h2>
   <div id="swish.class.swish" class="section">
    <h2 class="title"><span class="classname">Swish</span></h2>
    <p class="para">
    </p>
    <div id="swish.class.swish.properties" class="section">
     <h2 class="title">プロパティ</h2>
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        <span class="property">indexes</span> -
        使用するインデックスおよびそのプロパティの配列。
        プロパティの一覧は、Swish-e のバージョンに依存します。
       </p>
      </li>
     </ul>
    </div>
    <div id="swish.class.swish.methods" class="section">
     <h2 class="title">メソッド</h2>
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        <a href="function.swish-construct.html" class="xref">Swish::__construct</a> -
        新しい <span class="classname">Swish</span> オブジェクトを作成します。
        エラー時に <span class="classname">SwishException</span> をスローします。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swish-prepare.html" class="xref">Swish->prepare</a> -
        <span class="classname">SwishSearch</span> オブジェクトを準備して返します。
        エラー時に <span class="classname">SwishException</span> をスローします。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swish-query.html" class="xref">Swish->query</a> -
        クエリを実行し、<span class="classname">SwishResults</span> オブジェクトを返します。
        エラー時に <span class="classname">SwishException</span> をスローします。
       </p>
      </li>
      <li class="listitem">
       <p class="para"><a href="function.swish-getmetalist.html" class="xref">Swish->getMetaList</a> -
       指定したインデックスファイルのメタエントリの配列を返します。</p>
      </li>
      <li class="listitem">
       <p class="para"><a href="function.swish-getpropertylist.html" class="xref">Swish->getPropertyList</a> -
       指定したインデックスファイルのプロパティの配列を返します。</p>
      </li>
     </ul>
    </div>
   </div>
   <div id="swish.class.swishsearch" class="section">
    <h2 class="title"><span class="classname">SwishSearch</span></h2>
    <p class="para">
    </p>
    <div id="swish.class.swishsearch.methods" class="section">
     <h2 class="title">メソッド</h2>
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        <a href="function.swishsearch-setstructure.html" class="xref">SwishSearch->setStructure</a> -
        検索オブジェクトの構造フラグを設定します。このフラグを使用して、
        HTML ドキュメントの一部のみに検索制限をかけます。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishsearch-setphrasedelimiter.html" class="xref">SwishSearch->setPhraseDelimiter</a> -
        フレーズの区切り文字を設定します。デフォルトはダブルクォートです。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishsearch-setsort.html" class="xref">SwishSearch->setSort</a> -
        結果の並び順を設定します。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishsearch-setlimit.html" class="xref">SwishSearch->setLimit</a> -
        結果の限界を設定します。
        エラー時に <span class="classname">SwishException</span> をスローします。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishsearch-resetlimit.html" class="xref">SwishSearch->resetLimit</a> -
        制限をリセットします。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishsearch-execute.html" class="xref">SwishSearch->execute</a> -
        クエリを実行し、<span class="classname">SwishResults</span> オブジェクトを返します。
        エラー時に <span class="classname">SwishException</span> をスローします。
       </p>
      </li>
     </ul>
    </div>
   </div>
   <div id="swish.class.swishresults" class="section">
    <h2 class="title"><span class="classname">SwishResults</span></h2>
    <p class="para">
    </p>
    <div id="swish.class.swishresults.properties" class="section">
     <h2 class="title">プロパティ</h2>
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        <span class="property">hits</span> -
        この <span class="classname">SwishResults</span> オブジェクトの結果の数。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <span class="property">indexes</span> - 検索で使用するインデックスの配列。
       </p>
      </li>
     </ul>
    </div>
    <div id="swish.class.swishresults.methods" class="section">
     <h2 class="title">メソッド</h2>
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        <a href="function.swishresults-nextresult.html" class="xref">SwishResults->nextResult</a> -
        次の <span class="classname">SwishResult</span> オブジェクト、
        あるいはもう結果がない場合に <b><tt>FALSE</tt></b> を返します。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishresults-seekresult.html" class="xref">SwishResults->seekResult</a> -
        <span class="classname">SwishResults</span>
        オブジェクト内の現在のシーク位置を設定します。
        エラー時に <span class="classname">SwishException</span> をスローします。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishresults-getparsedwords.html" class="xref">SwishResults->getParsedWords</a> -
        クエリ内の単語の配列を、ストップワードを削除して返します。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishresults-getremovedstopwords.html" class="xref">SwishResults->getRemovedStopwords</a> -
        削除したストップワードの配列を返します。
       </p>
      </li>
     </ul>
    </div>
   </div>
   <div id="swish.class.swishresult" class="section">
    <h2 class="title"><span class="classname">SwishResult</span></h2>
    <p class="para">
    </p>
    <div id="swish.class.swishresult.properties" class="section">
     <h2 class="title">プロパティ</h2>
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">プロパティは Swish-e のバージョンに依存します。サンプルを参照ください。</p>
      </li>
     </ul>
    </div>
    <div id="swish.class.swishresult.methods" class="section">
     <h2 class="title">メソッド</h2>
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        <a href="function.swishresult-getmetalist.html" class="xref">SwishResult->getMetaList</a> -
        この結果で使用するインデックスのメタエントリの配列を返します。
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="function.swishresult-stem.html" class="xref">SwishResult->stem</a> -
        単語の語幹を取得し、結果を文字列の配列で返します。
        エラー時に <span class="classname">SwishException</span> をスローします。
       </p>
      </li>
     </ul>
    </div>
   </div>
   <div id="swish.class.swishexception" class="section">
    <h2 class="title"><span class="classname">SwishException</span></h2>
    <p class="para">
     <span class="classname">SwishException</span> は、組み込みの
     <span class="classname">Exception</span> クラスを継承したもので、
     このクラスと同じプロパティやメソッドを保持しています。詳細は
     <a href="language.exceptions.html" class="xref">例外(exceptions)</a> を参照ください。
    </p>
   </div>
  </div>
</div>




  </div>
  























































































































<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.swish-construct.html">Swish::__construct</a> ― Swish オブジェクトを作成する</li><li><a href="function.swish-getmetalist.html">Swish->getMetaList</a> ― このインデックスのメタエントリ一覧を取得する</li><li><a href="function.swish-getpropertylist.html">Swish->getPropertyList</a> ― このインデックスのプロパティ一覧を取得する</li><li><a href="function.swish-prepare.html">Swish->prepare</a> ― 検索クエリを準備する</li><li><a href="function.swish-query.html">Swish->query</a> ― クエリを実行し、結果オブジェクトを返す</li><li><a href="function.swishresult-getmetalist.html">SwishResult->getMetaList</a> ― メタエントリの一覧を取得する</li><li><a href="function.swishresult-stem.html">SwishResult->stem</a> ― 指定した単語の語幹を取得する</li><li><a href="function.swishresults-getparsedwords.html">SwishResults->getParsedWords</a> ― パースされた単語の配列を取得する</li><li><a href="function.swishresults-getremovedstopwords.html">SwishResults->getRemovedStopwords</a> ― クエリから削除したストップワードの配列を取得する</li><li><a href="function.swishresults-nextresult.html">SwishResults->nextResult</a> ― 次の検索結果を取得する</li><li><a href="function.swishresults-seekresult.html">SwishResults->seekResult</a> ― 現在のシークポインタを指定した位置に設定する</li><li><a href="function.swishsearch-execute.html">SwishSearch->execute</a> ― 検索を実行し、結果を取得する</li><li><a href="function.swishsearch-resetlimit.html">SwishSearch->resetLimit</a> ― 検索の制限をリセットする</li><li><a href="function.swishsearch-setlimit.html">SwishSearch->setLimit</a> ― 検索の限界を設定する</li><li><a href="function.swishsearch-setphrasedelimiter.html">SwishSearch->setPhraseDelimiter</a> ― フレーズの区切り文字を設定する</li><li><a href="function.swishsearch-setsort.html">SwishSearch->setSort</a> ― 並び順を設定する</li><li><a href="function.swishsearch-setstructure.html">SwishSearch->setStructure</a> ― 検索オブジェクトの構造フラグを設定する</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.swf-viewport.html">swf_viewport</a></div>
 <div class="next" style="float: right;"><a href="function.swish-construct.html">Swish::__construct</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
