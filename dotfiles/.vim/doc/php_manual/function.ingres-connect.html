<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Ingres データベースへの接続をオープンする</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.ingres-commit.html">ingres_commit</a></div>
 <div class="next" style="float: right;"><a href="function.ingres-cursor.html">ingres_cursor</a></div>
 <div class="up"><a href="ref.ingres.html">Ingres II</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.ingres-connect" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ingres_connect</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.2, PHP 5 &lt;= 5.0.5, PECL ingres:1.0-1.4.3)</p><p class="refpurpose">ingres_connect ― Ingres データベースへの接続をオープンする</p>

 </div>
 
 <div class="refsect1 description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis">
   <span class="type">resource</span> <span class="methodname"><b><b>ingres_connect</b></b></span>
    ([ <span class="methodparam"><span class="type">string</span> <tt class="parameter">$database</tt></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$username</tt></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$password</tt></span>
   [, <span class="methodparam"><span class="type">array</span> <tt class="parameter">$options</tt></span>
  ]]]] )</div>

  <p class="para">
   <b>ingres_connect()</b> は、指定した Ingres
   <i><tt class="parameter">database</tt></i>
 との接続をオープンします。
  </p>
  <p class="para">
   この接続は、スクリプトの実行終了時または、このリンクについて
   <a href="function.ingres-close.html" class="function">ingres_close()</a> がコールされた場合に
   クローズされます。
  </p>
  <p class="para">
   他の全ての Ingres 関数は、デフォルトで直近にオープンされたリンクを使用します。
   このため、複数のリンクを同時に使用したい場合には、
   返された値を保存しておく必要があります。
  </p>
 </div>


 <div class="refsect1 parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   いくつかのパラメータが欠けている場合、
   <b>ingres_connect()</b> は、
   <i><tt class="parameter">ingres.default_database</tt></i>
、
   <i><tt class="parameter">ingres.default_user</tt></i>
、
   <i><tt class="parameter">ingres.default_password</tt></i>
 に関して
   <var class="filename">php.ini</var> の値を使用します。
  </p>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">database</tt></i>
</span>
     <dd>

      <p class="para">
       データベース名。
       <var class="varname">[node_id::]dbname[/svr_class]</var>
       形式でなければなりません。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">username</tt></i>
</span>
     <dd>

      <p class="para">
       Ingres のユーザ名。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">password</tt></i>
</span>
     <dd>

      <p class="para">
       <i><tt class="parameter">username</tt></i>
 のパスワード。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">options</tt></i>
</span>
     <dd>

      <p class="para">
       <b>ingres_connect()</b> のオプション
       <table class="informaltable">
        <colgroup>

         <thead valign="middle">
          <tr valign="middle">
           <th colspan="1">オプション名</th>
           <th colspan="1">説明</th>
          </tr>

         </thead>

         <tbody valign="middle">
          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">date_century_boundary</td>
           <td colspan="1" rowspan="1" align="left">
            2桁で指定した年を、今世紀と判断するか来世紀と判断するかの閾値。
            II_DATE_CENTURY_BOUNDARY と同等です。
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">group</td>
           <td colspan="1" rowspan="1" align="left">ユーザのグループ ID を指定します。&#039;-G&#039; フラグと同等です。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">role</td>
           <td colspan="1" rowspan="1" align="left">
            アプリケーションのロール ID。ロールのパスワードが必要な場合は、
            このパラメータは &quot;role/password&quot; 形式で指定する必要があります。
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">effective_user</td>
           <td colspan="1" rowspan="1" align="left">使用する ingres ユーザアカウント。&#039;-u&#039; フラグと同等です。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">dbms_password</td>
           <td colspan="1" rowspan="1" align="left">ユーザが Ingres に接続する際に使用する、内部データベースのパスワード。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">table_structure</td>
           <td colspan="1" rowspan="1" align="left"><p class="para">
             新規テーブルのデフォルトの構造。以下のいずれかが指定可能です。
            <ul class="itemizedlist">
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_BTREE</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_HASH</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_HEAP</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_ISAM</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_CBTREE</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_CISAM</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_CHASH</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_CHEAP</span></li>
            </ul>
            </p>
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">index_structure</td>
           <td colspan="1" rowspan="1" align="left"><p class="para">
             新規セカンダリインデックスのデフォルトの構造。以下のいずれかが指定可能です。
            <ul class="itemizedlist">
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_CBTREE</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_CISAM</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_CHASH</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_BTREE</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_HASH</span></li>
             <li class="listitem"><span class="simpara">INGRES_STRUCTURE_ISAM</span></li>
            </ul>
            </p>
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">login_local</td>
           <td colspan="1" rowspan="1" align="left">
            対象データベースの文字列に VNODE が含まれていた場合に
            ユーザ ID とパスワードをどのように使用して接続するかを指定します。
            TRUE に設定すると、ユーザ ID とパスワードで VNODE にローカルアクセスし、
            VNODE のログイン情報を使用してデータベースとの接続を確立します。
            FALSE に設定すると、プロセスのユーザ ID を使用して VNODE にアクセスし、
            接続用のユーザ ID とパスワードを VNODE のログイン情報の代わりに使用して
            データベースとの接続を確立します。対象データベースの文字列に
            VNODE が含まれていない場合は、このパラメータは無視されます。
            デフォルトは FALSE です。
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">timezone</td>
           <td colspan="1" rowspan="1" align="left">
            このセッションのタイムゾーンを設定します。設定しなかった場合は
            II_TIMEZONE_NAME の値が使用されます。II_TIMEZONE_NAME
            も設定されていない場合は、NA-PACIFIC (GMT-8 に夏時間を適用)
            が用いられます。
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">date_format</td>
           <td colspan="1" rowspan="1" align="left"><p class="para">
           Ingres の日付として指定可能な入出力書式を設定します。
           デフォルトは II_DATE_FORMAT で指定された値です。II_DATE_FORMAT
           が設定されていない場合は、デフォルトは US の日付フォーマット、すなわち
           mm/dd/yy となります。以下のいずれかが使用可能です。
            <ul class="itemizedlist">
             <li class="listitem"><span class="simpara">INGRES_DATE_DMY</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_FINISH</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_GERMAN</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_ISO</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_ISO4</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_MDY</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_MULTINATIONAL</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_MULTINATIONAL4</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_YMD</span></li>
             <li class="listitem"><span class="simpara">INGRES_DATE_US</span></li>
            </ul>
            </p>
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">decimal_separator</td>
           <td colspan="1" rowspan="1" align="left">小数点を表す文字。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">money_lort</td>
           <td colspan="1" rowspan="1" align="left"><p class="para">通貨記号を先頭あるいは末尾のどちらにつけるか。以下のいずれかが使用可能です。
            <ul class="itemizedlist">
             <li class="listitem"><span class="simpara">INGRES_MONEY_LEADING</span></li>
             <li class="listitem"><span class="simpara">INGRES_MONEY_TRAILING</span></li>
            </ul>
            </p>
           </td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">money_sign</td>
           <td colspan="1" rowspan="1" align="left">MONEY データ型で使用する通貨記号。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">money_precision</td>
           <td colspan="1" rowspan="1" align="left">MONEY データ型の精度。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">float4_precision</td>
           <td colspan="1" rowspan="1" align="left">FLOAT4 データ型の精度。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">float8_precision</td>
           <td colspan="1" rowspan="1" align="left">FLOAT8 データの精度。</td>
          </tr>

          <tr valign="middle">
           <td colspan="1" rowspan="1" align="left">blob_segment_length</td>
           <td colspan="1" rowspan="1" align="left">
            BLOB/CLOB データを読み込む際に、一度に取得するデータのバイト数。
            明示的に指定しなかった場合、デフォルトは 4096 バイトです。
           </td>
          </tr>

         </tbody>
        </colgroup>

       </table>
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   成功時に Ingres リンクリソース、失敗した際に <b><tt>FALSE</tt></b> を返します。
  </p>
 </div>


 <div class="refsect1 examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example">
    <p><b>Example#1 <b>ingres_connect()</b> の例</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ingres_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"mydb"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"user"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"pass"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;die(</span><span style="color: #DD0000">"接続できませんでした"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"接続に成功しました"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">ingres_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example">
    <p><b>Example#2 
     デフォルトリンクを使用する <b>ingres_connect()</b> の例
    </b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />ingres_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"mydb"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"user"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"pass"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;die(</span><span style="color: #DD0000">"接続できませんでした"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"接続に成功しました"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">ingres_close</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="function.ingres-pconnect.html" class="function">ingres_pconnect()</a></li>
    <li class="member"><a href="function.ingres-close.html" class="function">ingres_close()</a></li>
   </ul>
  </p>
 </div>


</div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.ingres-commit.html">ingres_commit</a></div>
 <div class="next" style="float: right;"><a href="function.ingres-cursor.html">ingres_cursor</a></div>
 <div class="up"><a href="ref.ingres.html">Ingres II</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
