<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>可変変数</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="language.variables.scope.html">変数のスコープ</a></div>
 <div class="next" style="float: right;"><a href="language.variables.external.html">PHPの外部から来る変数</a></div>
 <div class="up"><a href="language.variables.html">変数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.variables.variable" class="sect1">
   <h2 class="title">可変変数</h2>

   <p class="simpara">
    変数名を可変にできると便利なことが時々あります。可変変数では、変数
    名を動的にセットし使用できます。通常の変数は、次のような命令でセッ
    トします。
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'hello'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    可変変数は、変数の値をとり、変数の名前として扱います。上の例では、
    <em class="emphasis">hello</em> は、ドル記号を二つ使用することにより、
    変数の名前として使用することができます。つまり、
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">$</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'world'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    ここまでで、二つの変数が定義され、PHP シンボルツリーに定義されてい
    ます。これらは、&quot;hello&quot; を値とする<var class="varname">$a</var>と &quot;world&quot;
    を値とする<var class="varname">$hello</var>です。そこで、次の命令
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"$a&nbsp;${$a}"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    の出力は、次の命令と全く同じとなります。
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"$a&nbsp;$hello"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    すなわち、両方共、<span class="computeroutput">hello world</span>を出
    力します。
   </p>

   <p class="simpara">
    可変変数を配列で使用する際には、曖昧さの問題を解決する必要がありま
    す。つまり、<var class="varname">$$a[1]</var>と書いた場合、
    <var class="varname">$a[1]</var>を変数として使用したいのか、
    <var class="varname">$$a</var>を変数とし [1] を変数の添え字としたいのかを、
    パーサが知る必要があるのです。この曖昧さを解決するには、前者では
    <var class="varname">${$a[1]}</var>とし、後者では
    <var class="varname">${$a}[1]</var>とする構文を用います。
   </p>

   <div class="warning"><b class="warning">警告</b>
    <p class="simpara">
     関数やクラスメソッドの内部で、可変変数と PHP の
     <a href="language.variables.predefined.html#language.variables.superglobals" class="link">
     スーパーグローバル配列</a> とを組み合わせては使用できないということに注意してください。
     <i class="literal">$this</i> も特別な変数であり、
     動的に参照することはできません。
    </p>
   </div>

  </div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="language.variables.scope.html">変数のスコープ</a></div>
 <div class="next" style="float: right;"><a href="language.variables.external.html">PHPの外部から来る変数</a></div>
 <div class="up"><a href="language.variables.html">変数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
