<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Bzip2 圧縮関数</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.bcompiler-write-included-filename.html">bcompiler_write_included_filename</a></div>
 <div class="next" style="float: right;"><a href="function.bzclose.html">bzclose</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">Bzip2 圧縮関数</h1>
  

  <div class="partintro">
   <div id="bzip2.intro" class="section">
    <h2 class="title">導入</h2>
    <p class="para">
     bzip2関数は、bzip2 (.bz2)圧縮されたファイルを透過的に読み書きする
     ために使用されます。
    </p>
   </div>

   <div id="bzip2.requirements" class="section">
    <h2 class="title">要件</h2>
    <p class="para">
     このモジュールは、Julian Seward により作成された 
     <a href="http://www.bzip.org/" class="link external">&raquo; bzip2</a>ライブラリの関数を使用して
     います。このモジュールは、bzip2/libbzip2の
     バージョン &gt;= 1.0.xを必要とします。
    </p>
   </div>

   


<div id="bzip2.installation" class="section">
 <h2 class="title">インストール手順</h2>
 <p class="para">
  PHP の bzip2 サポートはデフォルトでは有効となっていません。
  bzip2 サポートを有効とするには、PHP をコンパイルする際に設定オプション
  <span class="option">--with-bz2[=DIR]</span>
  を使用する必要があります。  
 </p>
</div>




   <div id="bzip2.configuration" class="section">
    <h2 class="title">実行時設定</h2>
    <p class="para">設定ディレクティブは定義されていません。</p>
   </div>

   <div id="bzip2.resources" class="section">
    <h2 class="title">リソース型</h2>
    <p class="para">
     この拡張モジュールは、リソース型として処理を行うbz2ファイルを指す
     ファイルポインタを定義します。
    </p>
   </div>

   <div id="bzip2.constants" class="section">
    <h2 class="title">定義済み定数</h2>
    <p class="para">定数は定義されていません。</p>
   </div>

   <div id="bzip2.examples" class="section">
    <h2 class="title">例</h2>
    <p class="para">
     この例は、テンポラリファイルをオープンし、テスト用の文字列を書き
     込みます。この後、このファイルの内容を出力します。
    </p>
    <div class="example">
     <p><b>Example#1 簡単な bzip2 の例</b></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"/tmp/testfile.bz2"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;a&nbsp;test&nbsp;string.\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;書き込み用にオープン<br /></span><span style="color: #0000BB">$bz&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">bzopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"w"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;ファイルに文字列を書き込む<br /></span><span style="color: #0000BB">bzwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$bz</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;ファイルを閉じる<br /></span><span style="color: #0000BB">bzclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$bz</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;読み込み用にファイルをオープン<br /></span><span style="color: #0000BB">$bz&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">bzopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"r"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;10文字読み込む<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">bzread</span><span style="color: #007700">(</span><span style="color: #0000BB">$bz</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;ファイルの終端まで出力(または次の1024文字)し、閉じる<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">bzread</span><span style="color: #007700">(</span><span style="color: #0000BB">$bz</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">bzclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$bz</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </div>
  </div>



















































































 <h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.bzclose.html">bzclose</a> ― bzip2 ファイルを閉じる</li><li><a href="function.bzcompress.html">bzcompress</a> ― 文字列をbzip2形式のデータに圧縮する</li><li><a href="function.bzdecompress.html">bzdecompress</a> ― bzip2 形式のデータを解凍する</li><li><a href="function.bzerrno.html">bzerrno</a> ― bzip2 エラー番号を返す</li><li><a href="function.bzerror.html">bzerror</a> ― bzip2 エラー番号とエラー文字列を配列で返す</li><li><a href="function.bzerrstr.html">bzerrstr</a> ― bzip2 エラー文字列を返す</li><li><a href="function.bzflush.html">bzflush</a> ― 全てのバッファリングされたデータを強制的に書き込む</li><li><a href="function.bzopen.html">bzopen</a> ― bzip2 圧縮されたファイルをオープンする</li><li><a href="function.bzread.html">bzread</a> ― バイナリ対応の bzip2 ファイル読み込み</li><li><a href="function.bzwrite.html">bzwrite</a> ― バイナリ対応の bzip2 ファイルへの書き込み</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.bcompiler-write-included-filename.html">bcompiler_write_included_filename</a></div>
 <div class="next" style="float: right;"><a href="function.bzclose.html">bzclose</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
