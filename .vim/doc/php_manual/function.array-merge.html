<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>ひとつまたは複数の配列をマージする</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.array-merge-recursive.html">array_merge_recursive</a></div>
 <div class="next" style="float: right;"><a href="function.array-multisort.html">array_multisort</a></div>
 <div class="up"><a href="ref.array.html">配列</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-merge" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_merge</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose">array_merge ― ひとつまたは複数の配列をマージする</p>

 </div>
 <div class="refsect1 u">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis">
   <span class="type">array</span> <span class="methodname"><b><b>array_merge</b></b></span>
    ( <span class="methodparam"><span class="type">array</span> <tt class="parameter">$array1</tt></span>
   [, <span class="methodparam"><span class="type">array</span> <tt class="parameter">$array2</tt></span>
   [, <span class="methodparam"><span class="type">array</span> <tt class="parameter">$...</tt></span>
  ]] )</div>

  <p class="para">
   <b>array_merge()</b>は、前の配列の後ろに配列を追加することにより、
   ひとつまたは複数の配列の要素をマージし、得られた配列を返します。
  </p>
  <p class="para">
   入力配列が同じキー文字列を有していた場合、そのキーに関する後に指定された値が、
   前の値を上書きします。しかし、配列が同じ添字番号を有していても
   値は追記されるため、このようなことは起きません。
  </p>
  <p class="para">
   配列が一つだけ指定され、その配列が数字で添字指定されていた場合、
   キーの添字が連続となるように振り直されます。
  </p>
  <p class="para">
   <div class="example">
    <p><b>Example#1 <b>array_merge()</b> の例</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array1&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"color"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"color"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"shape"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"trapezoid"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$array1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Array
(
    [color] =&gt; green
    [0] =&gt; 2
    [1] =&gt; 4
    [2] =&gt; a
    [3] =&gt; b
    [shape] =&gt; trapezoid
    [4] =&gt; 4
)
</pre></div>
    </pre></div>
   </div>
  </p>
  <p class="para">
   <div class="example">
    <p><b>Example#2 簡単な <b>array_merge()</b> の例</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array1&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"data"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$array1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     数値添字が振りなおされることに注意!
    </p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Array
(
    [0] =&gt; data
)
</pre></div>
    </pre></div>
    <div class="example-contents"><p>
     配列を完全に維持し、単に追加だけしたい場合
     (つまり、既存のキーを上書きしたくはない場合)
     には、<i class="literal">+</i> 演算子を使用してください:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array1&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"data"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$array2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     数値添字は維持され、関連が保持されます。
    </p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Array
(
    [1] =&gt; data
)
</pre></div>
    </pre></div>
   </div>
  </p>
  <div class="warning"><b class="warning">警告</b>
   <p class="para">
    <b>array_merge()</b> の動作は PHP 5 で変更されました。PHP 4 とは異なり、
    <b>array_merge()</b> は、<a href="language.types.array.html" class="type array">array</a>
    型のパラメータのみを受け取るようになりました。しかし、
    他の型をマージするために型キャストを使用することも可能です。
    詳細は以下の例を参照してください。
   </p>
   <p class="para">
    <div class="example">
     <p><b>Example#3 <b>array_merge()</b> PHP 5 の例</b></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$beginning&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$end&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">((array)</span><span style="color: #0000BB">$beginning</span><span style="color: #007700">,&nbsp;(array)</span><span style="color: #0000BB">$end</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
     <div class="example-contents"><pre>
<div class="cdata"><pre>
Array
(
    [0] =&gt; foo
    [1] =&gt; bar
)
</pre></div>
     </pre></div>
    </div>
   </p>
  </div>
  <p class="para">
   <a href="function.array-merge-recursive.html" class="function">array_merge_recursive()</a>、
   <a href="function.array-combine.html" class="function">array_combine()</a> および
   <a href="language.operators.array.html" class="link">配列演算子</a>
   も参照ください。
  </p>
 </div>

</div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.array-merge-recursive.html">array_merge_recursive</a></div>
 <div class="next" style="float: right;"><a href="function.array-multisort.html">array_multisort</a></div>
 <div class="up"><a href="ref.array.html">配列</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
