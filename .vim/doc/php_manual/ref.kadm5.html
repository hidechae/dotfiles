<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>KADM5</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.json-encode.html">json_encode</a></div>
 <div class="next" style="float: right;"><a href="function.kadm5-chpass-principal.html">kadm5_chpass_principal</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">KADM5</h1>
  
  <div class="partintro">
   <div id="kadm5.intro" class="section">
    <h2 class="title">導入</h2>
    <p class="simpara">
     このパッケージは、Kerberos V (ケルベロス バージョン 5) 
     管理サーバへのアクセス機能を提供します。
     これにより、Kerberos V のプリンシパルやポリシーの
     作成・変更・削除が可能となります。
    </p>
    <p class="simpara">
     Kerberos についての詳細な情報は、<a href="http://web.mit.edu/kerberos/www/" class="link external">&raquo; http://web.mit.edu/kerberos/www/</a>
     で得られます。
    </p>
    <p class="simpara">
     Kerberos および KADM5 についてのドキュメントは、<a href="http://web.mit.edu/kerberos/www/krb5-1.2/krb5-1.2.8/doc/admin_toc.html" class="link external">&raquo; http://web.mit.edu/kerberos/www/krb5-1.2/krb5-1.2.8/doc/admin_toc.html</a>
     にあります。
    </p>
   </div>

   <div id="kadm5.resources" class="section">
    <h2 class="title">リソース型</h2>
    <p class="para">
     この拡張モジュールでは KADM5 ハンドルを定義しています。これは
     <a href="function.kadm5-init-with-password.html" class="function">kadm5_init_with_password()</a> が返すものです。
    </p>
   </div>

   


<div id="kadm5.constants" class="section">
 <h2 class="title">定義済み定数</h2>
 <p class="simpara">
以下の定数が定義されています。
この関数の拡張モジュールが PHP 組み込みでコンパイルされているか、
実行時に動的にロードされている場合のみ使用可能です。
</p>
 <div id="kadm5.constantsAF" class="section">
 <h2 class="title">属性フラグ用の定数</h2>
  <p class="para">
   関数 <a href="function.kadm5-create-principal.html" class="function">kadm5_create_principal()</a>、
   <a href="function.kadm5-modify-principal.html" class="function">kadm5_modify_principal()</a> および
   <a href="function.kadm5-modify-principal.html" class="function">kadm5_modify_principal()</a> では、ビットを立てることで
   特別な属性を指定することができます。以下のような定数が定義されています。
   <table border="5">
    <caption><b>KDC が使用する属性定数</b></caption>
    <colgroup>

     <thead valign="middle">
      <tr valign="middle">
       <th colspan="1">定数</th>
      </tr>

     </thead>

     <tbody valign="middle">
      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_POSTDATED</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_FORWARDABLE</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_TGT_BASED</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_RENEWABLE</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_PROXIABLE</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_DUP_SKEY</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_ALL_TIX</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_REQUIRES_PRE_AUTH</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_REQUIRES_HW_AUTH</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_REQUIRES_PWCHANGE</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_DISALLOW_SVR</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_PWCHANGE_SERVER</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_SUPPORT_DESMD5</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KRB5_KDB_NEW_PRINC</td>
      </tr>

     </tbody>
    </colgroup>

   </table>

  </p>
 </div>

 <div id="pecl.kadm5.constantsOP" class="section">
 <h2 class="title">オプション用の定数</h2>
  <p class="para">
   関数 <a href="function.kadm5-create-principal.html" class="function">kadm5_create_principal()</a>、
   <a href="function.kadm5-modify-principal.html" class="function">kadm5_modify_principal()</a> および
   <a href="function.kadm5-get-principal.html" class="function">kadm5_get_principal()</a> では、プリンシパルの
   オプションを連想配列形式で指定したり関数の返り値として
   受け取ったりできます。連想配列のキーは、以下で定義されている
   文字列定数となります。
   <table border="5">
    <caption><b>プリンシパルを作成/変更/取得する際のオプション</b></caption>
    <colgroup>

     <thead valign="middle">
      <tr valign="middle">
       <th colspan="1">定数</th>
       <th colspan="1">型</th>
       <th colspan="1">説明</th>
      </tr>

     </thead>

     <tbody valign="middle">
      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_PRINCIPAL</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">プリンシパルの有効期限を Kerberos タイムスタンプで指定します。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_PRINC_EXPIRE_TIME</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">プリンシパルの有効期限を Kerberos タイムスタンプで指定します。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_LAST_PW_CHANGE</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">プリンシパルのパスワードが最後に変更された時刻。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_PW_EXPIRATION</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">
        プリンシパルの現在のパスワードの有効期限を Kerberos
        タイムスタンプで指定します。
       </td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_MAX_LIFE</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">
        このプリンシパルに発行された Kerberos チケットの最大の生存時間。
       </td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_MAX_RLIFE</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">
        このプリンシパルに発行された Kerberos チケットの最大の
        更新可能生存時間。
       </td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_MOD_NAME</td>
       <td colspan="1" rowspan="1" align="left">string</td>
       <td colspan="1" rowspan="1" align="left">
        最後にこのプリンシパルを変更した Kerberos プリンシパルの名前。
       </td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_MOD_TIME</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">
        このプリンシパルの最終更新時刻を Kerberos タイムスタンプ形式で指定します。
       </td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_KVNO</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">プリンシパルの現在のキーのバージョン。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_POLICY</td>
       <td colspan="1" rowspan="1" align="left">string</td>
       <td colspan="1" rowspan="1" align="left">このプリンシパルを制御するポリシーの名前。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_CLEARPOLICY</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">
        新しいプリンシパルの「デフォルトの」ポリシーには
        標準手続きが関連付けられます。
        KADM5_CLEARPOLICY は、この挙動を抑制します。
       </td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_LAST_SUCCESS</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">最後に AS_REQ が成功したときの KDC 時刻。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_LAST_FAILED</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">最後に AS_REQ が失敗したときの KDC 時刻。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_FAIL_AUTH_COUNT</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">AS_REQ が連続して失敗した数。</td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_RANDKEY</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">
        プリンシパルに対してランダムなパスワードを生成します。
        パラメータ <i><tt class="parameter">password</tt></i>
 は無視されます。
       </td>
      </tr>

      <tr valign="middle">
       <td colspan="1" rowspan="1" align="left">KADM5_ATTRIBUTES</td>
       <td colspan="1" rowspan="1" align="left">long</td>
       <td colspan="1" rowspan="1" align="left">KDC が使用する属性のビットフィールド。</td>
      </tr>

     </tbody>
    </colgroup>

   </table>

  </p>
 </div>
</div>




   <div id="kadm5.examples" class="section">
   <h2 class="title">例</h2>
   <p class="para">
    この例では、KADM5 データベースに対して
    接続・問い合わせ・結果 principal の表示・切断
    を行います。
    <div class="example">
     <p><b>Example#1 KADM5 拡張モジュールの概要</b></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />&nbsp;&nbsp;$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_init_with_password</span><span style="color: #007700">(</span><span style="color: #DD0000">"afs-1"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"GONICUS.LOCAL"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"admin/admin"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"password"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"&lt;h1&gt;get_principals&lt;/h1&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$principals&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_get_principals</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br />&nbsp;&nbsp;for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$principals</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"$principals[$i]&lt;br&gt;\n"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"&lt;h1&gt;get_policies&lt;/h1&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$policies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_get_policies</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br />&nbsp;&nbsp;for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$policies</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"$policies[$i]&lt;br&gt;\n"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"&lt;h1&gt;get_principal&nbsp;burbach@GONICUS.LOCAL&lt;/h1&gt;\n"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_get_principal</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"burbach@GONICUS.LOCAL"&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$keys&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br />&nbsp;&nbsp;for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$keys</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$keys</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]];<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"$keys[$i]:&nbsp;$value&lt;br&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">KADM5_PRINC_EXPIRE_TIME&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">kadm5_modify_principal</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"burbach@GONICUS.LOCAL"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">kadm5_destroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   </div>

   <div id="kadm5.contact" class="section">
   <h2 class="title">問合せ先</h2>
    <p class="para">
     この拡張モジュールに対するコメントがあったり、バグフィックスや
     機能拡張のパッチを作成された場合、あるいは開発に参加したいなどの
     場合は
     <a href="mailto:holger.burbach@gonicus.de" class="link external">&raquo; holger.burbach@gonicus.de</a>
     までメールをください。このプロジェクトのホームページは
     <a href="http://oss.gonicus.de/project/?group_id=7" class="link external">&raquo; http://oss.gonicus.de/project/?group_id=7</a> です。
   </p>
  </div>

  </div>

  
























































  




 <h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.kadm5-chpass-principal.html">kadm5_chpass_principal</a> ― プリンシパルのパスワードを変更する</li><li><a href="function.kadm5-create-principal.html">kadm5_create_principal</a> ― 指定したパラメータで、kerberos のプリンシパルを作成する</li><li><a href="function.kadm5-delete-principal.html">kadm5_delete_principal</a> ― kerberos プリンシパルを削除する</li><li><a href="function.kadm5-destroy.html">kadm5_destroy</a> ― 管理サーバへの接続を閉じ、関連するすべてのリソースを開放する</li><li><a href="function.kadm5-flush.html">kadm5_flush</a> ― Kerberos データベースに対するすべての変更を取り消し、Kerberos
   管理サーバとの接続はオープンしたままにする</li><li><a href="function.kadm5-get-policies.html">kadm5_get_policies</a> ― Kerberos データベースから、すべてのポリシーを取得する</li><li><a href="function.kadm5-get-principal.html">kadm5_get_principal</a> ― Kerberos データベースから、プリンシパルのエントリを取得する</li><li><a href="function.kadm5-get-principals.html">kadm5_get_principals</a> ― Kerberos データベースから、すべてのプリンシパルを取得する</li><li><a href="function.kadm5-init-with-password.html">kadm5_init_with_password</a> ― KADM5 ライブラリへの接続をオープンし、必要なステータス情報を初期化する</li><li><a href="function.kadm5-modify-principal.html">kadm5_modify_principal</a> ― kerberos プリンシパルを、指定したパラメータで変更する</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.json-encode.html">json_encode</a></div>
 <div class="next" style="float: right;"><a href="function.kadm5-chpass-principal.html">kadm5_chpass_principal</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
