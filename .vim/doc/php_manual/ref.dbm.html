<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>DBM 関数 [非推奨]</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.dbase-replace-record.html">dbase_replace_record</a></div>
 <div class="next" style="float: right;"><a href="function.dblist.html">dblist</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">DBM 関数 [非推奨]</h1>
  

  <div class="partintro">
   <div id="dbm.intro" class="section">
    <h2 class="title">導入</h2>
    <p class="para">
     これらの関数により、レコードを dbm 形式 のデータベースに
     格納できるようになります。この形式のデータベース (組み込みの
     フラットファイルライブラリと同様に、Berkeley DB・<a href="ftp://ftp.gnu.org/pub/gnu/gdbm/" class="link external">&raquo; GDBM</a>・その他のシステムライブラリにより
     サポートされています) は、(リレーショナルデータベースにより
     サポートされる事細かなレコード形式ではなく)キーと値の組み合わせを
     格納します。
    </p>
    <blockquote><p><b class="note">注意</b>: 
     
      dbm サポートは古くなっており、
      <a href="ref.dba.html" class="link">(dbm形式の)データベース抽象化レイヤ関数
      </a>を代わりに使用することが推奨されています。
     <br />
    </p></blockquote>
    <blockquote><p><b class="note">注意</b>: 
     
      この拡張モジュールは PHP から削除されました。PHP 5.0.0
      以降のバージョンには存在しません。
     <br />
    </p></blockquote>
   </div>
   
   <div id="dbm.required" class="section">
    <h2 class="title">要件</h2>
    <p class="para">
     この関数を使用するには、使用するデータベースのサポートを指定して
     PHP をコンパイルする必要があります。サポートされるデータベースの
     <a href="ref.dba.html#dba.requirements" class="link">一覧</a>を参照ください。
    </p>
   </div>
   
   



<div id="dbm.installation" class="section">
 <h2 class="title">インストール手順</h2>
 <p class="para">
  以下の関数を使用するには、<span class="option">--with-db</span> オプションを指定し、dbm サポートを
  有効にして PHP をコンパイルする必要があります。
  さらに、使用するデータベースの<a href="ref.dba.html#dba.installation" class="link">サポー
  ト</a>を確認する必要があります。また、いくつかのシステムライブラリを
  使用することが可能です。
 </p>
</div>



   
   <div id="dbm.runtime" class="section">
    <h2 class="title">実行時設定</h2>
    <p class="para">設定ディレクティブは定義されていません。</p>
   </div>

   <div id="dbm.resources" class="section">
    <h2 class="title">リソース型</h2>
    <p class="para">
     関数 <a href="function.dbmopen.html" class="function">dbmopen()</a> は、データベース ID を返します。
     この ID は、他の dbm 関数で使用されます。
    </p>
   </div>
   
   <div id="dbm.constants" class="section">
    <h2 class="title">定義済み定数</h2>
    <p class="para">定数は定義されていません。</p>
   </div>
   
   <div id="dbm.examples" class="section">
   <h2 class="title">例</h2>
   <p class="para">
    <div class="example">
     <p><b>Example#1 DBM の例</b></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$dbm&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dbmopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"lastseen"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"w"</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">dbmexists</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbm</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$userid</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$last_seen&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dbmfetch</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbm</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$userid</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">dbminsert</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbm</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$userid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">());<br />}<br /></span><span style="color: #0000BB">do_stuff</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">dbmreplace</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbm</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$userid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">dbmclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbm</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
  </div>
 </div>



















































































 <h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.dblist.html">dblist</a> ― 使用されている DBM 互換ライブラリの一覧を返す</li><li><a href="function.dbmclose.html">dbmclose</a> ― dbm データベースを閉じる</li><li><a href="function.dbmdelete.html">dbmdelete</a> ― DBM データベースから値を削除する</li><li><a href="function.dbmexists.html">dbmexists</a> ― DBM データベース中に、キーに対応する値があるかどうかを調べる</li><li><a href="function.dbmfetch.html">dbmfetch</a> ― DBM データベースからキーの値を取り出す</li><li><a href="function.dbmfirstkey.html">dbmfirstkey</a> ― DBM データベースから最初のキーを取り出す</li><li><a href="function.dbminsert.html">dbminsert</a> ― DBM データベースへ値を挿入する</li><li><a href="function.dbmnextkey.html">dbmnextkey</a> ― 説明</li><li><a href="function.dbmopen.html">dbmopen</a> ― DBM データベースをオープンする</li><li><a href="function.dbmreplace.html">dbmreplace</a> ― DBM データベース中の値を置き換える</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.dbase-replace-record.html">dbase_replace_record</a></div>
 <div class="next" style="float: right;"><a href="function.dblist.html">dblist</a></div>
 <div class="up"><a href="funcref.html">関数リファレンス</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
