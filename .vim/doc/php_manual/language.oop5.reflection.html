<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>リフレクション</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="language.oop5.object-comparison.html">オブジェクトの比較</a></div>
 <div class="next" style="float: right;"><a href="language.oop5.typehinting.html">タイプヒンティング</a></div>
 <div class="up"><a href="language.oop5.html">クラスとオブジェクト (PHP 5)</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.oop5.reflection" class="sect1">
 <h2 class="title">リフレクション</h2>
  <div id="language.oop5.reflection.toc" class="sect2">
   <h3 class="title">目次</h3>
   <ul class="simplelist">
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.introduction" class="link">はじめに</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflector" class="link">Reflector インターフェイス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionexception" class="link">ReflectionException クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionfunction" class="link">ReflectionFunction クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionparameter" class="link">ReflectionParameter クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionclass" class="link">ReflectionClass クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionobject" class="link">ReflectionObject クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionmethod" class="link">ReflectionMethod クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionproperty" class="link">ReflectionProperty クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionextension" class="link">ReflectionExtension クラス</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.extending" class="link">リフレクションクラスの拡張</a></li>
   </ul>
  </div>
 <div id="language.oop5.reflection.introduction" class="sect2">
  <h3 class="title">はじめに</h3>
  <p class="para">
   PHP 5には完全なリフレクション APIが付属しており、
   クラス、インターフェイス、関数、メソッド、そしてエクステンションについて
   リバースエンジニアリングを行うことができます。
   さらに、このリフレクション APIは関数、クラス、メソッドに
   関するドキュメントコメントも取得することができます。
  </p>
  <p class="para">
   リフレクション APIは、Zend Engineのオブジェクト指向エクステンション
   で、以下のクラスから構成されています。
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Reflection&nbsp;</span><span style="color: #007700">{&nbsp;}<br />interface&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionException&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionFunction&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionParameter&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionObject&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionProperty&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionExtension&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    これらのクラスに関する詳細については、次章を参照してください。
   </span>
  </p></blockquote>
  <p class="para">
   以下の例のコードを実行してみましょう。
   <div class="example">
    <p><b>Example#1 リフレクション APIの基本的な使用法</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">export</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">(</span><span style="color: #DD0000">'Exception'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Class [ &lt;internal&gt; class Exception ] {

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [6] {
    Property [ &lt;default&gt; protected $message ]
    Property [ &lt;default&gt; private $string ]
    Property [ &lt;default&gt; protected $code ]
    Property [ &lt;default&gt; protected $file ]
    Property [ &lt;default&gt; protected $line ]
    Property [ &lt;default&gt; private $trace ]
  }

  - Methods [9] {
    Method [ &lt;internal&gt; final private method __clone ] {
    }

    Method [ &lt;internal, ctor&gt; public method __construct ] {

      - Parameters [2] {
        Parameter #0 [ &lt;optional&gt; $message ]
        Parameter #1 [ &lt;optional&gt; $code ]
      }
    }

    Method [ &lt;internal&gt; final public method getMessage ] {
    }

    Method [ &lt;internal&gt; final public method getCode ] {
    }

    Method [ &lt;internal&gt; final public method getFile ] {
    }

    Method [ &lt;internal&gt; final public method getLine ] {
    }

    Method [ &lt;internal&gt; final public method getTrace ] {
    }

    Method [ &lt;internal&gt; final public method getTraceAsString ] {
    }

    Method [ &lt;internal&gt; public method __toString ] {
    }
  }
}
</pre></div>
    </pre></div>
   </div>
  </p>
 </div>

  <div id="language.oop5.reflection.reflector" class="sect2">
   <h3 class="title"><span class="classname">Reflector</span></h3>
   <p class="para">
    <span class="classname">Reflector</span> は、
    すべてのエクスポート可能なリフレクションクラスが実装しているインターフェイスです。
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>

  <div id="language.oop5.reflection.reflectionexception" class="sect2">
   <h3 class="title"><span class="classname">ReflectionException</span></h3>
   <p class="para">
    <span class="classname">ReflectionException</span> は標準の <a href="language.exceptions.html" class="link">Exception</a> を継承しており、
    リフレクション API によって投げられます。
    固有のメソッドやプロパティは導入されていません。
   </p>
  </div>

 <div id="language.oop5.reflection.reflectionfunction" class="sect2">
  <h3 class="title"><span class="classname">ReflectionFunction</span></h3>
  <p class="para">
   <span class="classname">ReflectionFunction</span>クラスにより、
   関数のリバースエンジニアリングが可能となります。
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionFunction&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInternal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDisabled</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isUserDefined</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getFileName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getStartLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getEndLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getDocComment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invoke</span><span style="color: #007700">([</span><span style="color: #0000BB">mixed&nbsp;args&nbsp;</span><span style="color: #007700">[,&nbsp;...]])<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invokeArgs</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;returnsReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionParameter</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfRequiredParameters</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    親クラスである<span class="classname">ReflectionFunctionAbstract</span> にも、
    <b>invoke()</b> および
    <b>invokeArgs()</b>、<b>export()</b>、
    <b>isDisabled()</b>
    を除くすべてのメソッドが存在します。
   </p>
   <blockquote><p><b class="note">注意</b>: 
    <span class="simpara">
     <b>getNumberOfParameters()</b> と
     <b>getNumberOfRequiredParameters()</b> は PHP 5.0.3
     で追加され、
     <b>invokeArgs()</b> は PHP 5.1.0 で追加されました。
    </span>
   </p></blockquote>
  <p class="para">
   関数の内部を調べるために、まず、
   <span class="classname">ReflectionFunction</span>クラスのインスタンスを
   生成する必要があります。
   次にこのインスタンスの上のメソッドのどれかをコールすることができます。
  </p>
  <div class="example">
   <p><b>Example#2 <span class="classname">ReflectionFunction</span>クラスの使用法</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;簡単なカウンタ<br />&nbsp;*<br />&nbsp;*&nbsp;@return&nbsp;&nbsp;&nbsp;&nbsp;int<br />&nbsp;*/<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">counter</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">++;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;ReflectionFunction&nbsp;クラスのインスタンスを生成する<br /></span><span style="color: #0000BB">$func&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #DD0000">'counter'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;基本情報を表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;The&nbsp;%s&nbsp;function&nbsp;'%s'\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;declared&nbsp;in&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines&nbsp;%d&nbsp;to&nbsp;%d\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInternal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'internal'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'user-defined'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStartLine</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEndline</span><span style="color: #007700">()<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;ドキュメントコメントを表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Documentation:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDocComment</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;static&nbsp;変数があれば表示する<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$statics&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">())<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Static&nbsp;variables:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$statics</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;関数を呼び出す<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Invokation&nbsp;results&nbsp;in:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">invoke</span><span style="color: #007700">());<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;export()&nbsp;メソッドを使用する方が良い知れない<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"\nReflectionFunction::export()&nbsp;results:\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">::</span><span style="color: #0000BB">export</span><span style="color: #007700">(</span><span style="color: #DD0000">'counter'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   </div>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    <b>invoke()</b>メソッドは、
    <a href="function.call-user-func.html" class="function">call_user_func()</a>と同様に
    可変長の引数をとります。
   </span>
  </p></blockquote>
 </div>

 <div id="language.oop5.reflection.reflectionparameter" class="sect2">
  <h3 class="title"><span class="classname">ReflectionParameter</span></h3>
  <p class="para">
   <span class="classname">ReflectionParameter</span>クラスは、
   関数またはメソッドのパラメータに関する情報を取得します。
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionParameter&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;</span><span style="color: #007700">function,&nbsp;</span><span style="color: #0000BB">string&nbsp;parameter</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">function,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;parameter</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPassedByReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getDeclaringClass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getClass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isArray</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;allowsNull</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPassedByReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isOptional</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDefaultValueAvailable</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getDefaultValue</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote><p><b class="note">注意</b>: 
   
     <b>getDefaultValue()</b>,
     <b>isDefaultValueAvailable()</b>,
     <b>isOptional()</b>  は PHP 5.0.3 で追加され、
     <b>isArray()</b> は PHP 5.1.0で追加されました。
     <b>getDeclaringFunction()</b> および
     <b>getPosition()</b> は PHP 5.2.3 で追加されました。
   <br />
  </p></blockquote>
  <p class="para">
   関数パラメータの内部を調べる際には、まず、
   <span class="classname">ReflectionFunction</span> クラスまたは
   <span class="classname">ReflectionMethod</span> クラスのインスタンスを
   作成する必要があります。
   次に、配列のパラメータを取得するために、そのインスタンスの
   <b>getParameters()</b>メソッドを使用してください。
  </p>
  <div class="example">
   <p><b>Example#3 <span class="classname">ReflectionParameter</span>クラスの使用</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">Exception&nbsp;$a</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(</span><span style="color: #0000BB">ReflectionFunction&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />function&nbsp;</span><span style="color: #0000BB">abc</span><span style="color: #007700">()&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;コマンドラインから与えられたパラメータを使って<br />//&nbsp;ReflectionFunction&nbsp;のインスタンスを生成する<br /></span><span style="color: #0000BB">$reflect&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$reflect</span><span style="color: #007700">;<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$reflect</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$param</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"--&nbsp;Parameter&nbsp;#%d:&nbsp;%s&nbsp;{\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Class:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Allows&nbsp;NULL:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Passed&nbsp;to&nbsp;by&nbsp;reference:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Is&nbsp;optional?:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"}\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getClass</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">allowsNull</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPassedByReference</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isOptional</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'yes'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'no'<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div id="language.oop5.reflection.reflectionclass" class="sect2">
  <h3 class="title"><span class="classname">ReflectionClass</span></h3>
  <p class="para">
   <span class="classname">ReflectionClass</span>クラスにより、
   クラスやインターフェイスのリバースエンジニアリングが可能となります。
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInternal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isUserDefined</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInstantiable</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;hasConstant</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;hasMethod</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;hasProperty</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getFileName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getStartLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getEndLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getDocComment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;getConstructor</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;getMethod</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionMethod</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getMethods</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionProperty&nbsp;getProperty</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionProperty</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getProperties</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getConstant</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getInterfaces</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInterface</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isAbstract</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isFinal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getModifiers</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">stdclass&nbsp;newInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">stdclass&nbsp;newInstanceArgs</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getParentClass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isSubclassOf</span><span style="color: #007700">(</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">class)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getStaticProperties</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getStaticPropertyValue</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name&nbsp;</span><span style="color: #007700">[,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">default])<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;setStaticPropertyValue</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getDefaultProperties</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isIterateable</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;implementsInterface</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionExtension&nbsp;getExtension</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getExtensionName</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
   <blockquote><p><b class="note">注意</b>: 
    <span class="simpara">
     <b>hasConstant()</b>, <b>hasMethod()</b>,
     <b>hasProperty()</b>, <b>getStaticPropertyValue()</b>
     および <b>setStaticPropertyValue()</b>
     は、PHP 5.1.0 で追加されました。
     また、<b>newInstanceArgs()</b> は PHP 5.1.3 で追加されました。
    </span>
   </p></blockquote>
  <p class="para">
   クラスのイントロスペクションを行うには、まず
   <span class="classname">ReflectionClass</span>
   クラスのインスタンスを生成する必要があります。それから、
   このインスタンスのメソッドをコールしてください。
  </p>
  <div class="example">
   <p><b>Example#4 <span class="classname">ReflectionClass</span>クラスの使用法</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">Serializable<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">Object<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;カウンタクラス<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Counter&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Object&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Serializable<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">START&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Counter</span><span style="color: #007700">::</span><span style="color: #0000BB">START</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;カウンタを呼び出す<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@access&nbsp;&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;&nbsp;int<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$c</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;ReflectionClass&nbsp;クラスのインスタンスを生成する<br /></span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">(</span><span style="color: #DD0000">'Counter'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;基本情報を表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;The&nbsp;%s%s%s&nbsp;%s&nbsp;'%s'&nbsp;[extends&nbsp;%s]\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;declared&nbsp;in&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines&nbsp;%d&nbsp;to&nbsp;%d\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;having&nbsp;the&nbsp;modifiers&nbsp;%d&nbsp;[%s]\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInternal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'internal'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'user-defined'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isAbstract</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;abstract'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isFinal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;final'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInterface</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'interface'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'class'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getParentClass</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStartLine</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEndline</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">()))<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;ドキュメントコメントを表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Documentation:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDocComment</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;このクラスが実装しているインターフェースを表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Implements:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInterfaces</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;クラス定数を表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Constants:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;クラスプロパティを表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Properties:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getProperties</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;クラスメソッドを表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Methods:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMethods</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;このクラスがインスタンス化可能な場合、インスタンスを生成する<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInstantiable</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$counter&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newInstance</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'---&gt;&nbsp;$counter&nbsp;is&nbsp;instance?&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'yes'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'no'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\n---&gt;&nbsp;new&nbsp;Object()&nbsp;is&nbsp;instance?&nbsp;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInstance</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">Object</span><span style="color: #007700">())&nbsp;?&nbsp;</span><span style="color: #DD0000">'yes'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'no'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    <b>newInstance()</b>メソッドは、
    <a href="function.call-user-func.html" class="function">call_user_func()</a>と同様に
    可変長の引数をとります。
   </span>
  </p></blockquote>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    <i class="literal">$class = new ReflectionClass(&#039;Foo&#039;); $class-&gt;isInstance($arg)</i>
    は、<i class="literal">$arg instanceof Foo</i> または
    <i class="literal">is_a($arg, &#039;Foo&#039;)</i>と等価です。
   </span>
  </p></blockquote>
 </div>

  <div id="language.oop5.reflection.reflectionobject" class="sect2">
   <h3 class="title"><span class="classname">ReflectionObject</span></h3>
   <p class="para">
    <span class="classname">ReflectionObject</span> クラスにより、
    オブジェクトのリバースエンジニアリングが可能となります。
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionObject&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;object</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;object</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>

 <div id="language.oop5.reflection.reflectionmethod" class="sect2">
  <h3 class="title"><span class="classname">ReflectionMethod</span></h3>
  <p class="para">
   <span class="classname">ReflectionMethod</span>クラスにより、
   クラスメソッドのリバースエンジニアリングが可能となります。
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invoke</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object&nbsp;</span><span style="color: #007700">[,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;args&nbsp;</span><span style="color: #007700">[,&nbsp;...]])<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invokeArgs</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isFinal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isAbstract</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPublic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPrivate</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isProtected</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isStatic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isConstructor</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDestructor</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getModifiers</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getDeclaringClass</span><span style="color: #007700">()<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ReflectionFunctionAbstract&nbsp;から継承したメソッド<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInternal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isUserDefined</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getFileName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getStartLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getEndLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getDocComment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;returnsReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionParameter</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfRequiredParameters</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   メソッドの内部を調べるために、まず、
   <span class="classname">ReflectionMethod</span>クラスのインスタンスを
   生成する必要があります。
   次にこのインスタンスの上のメソッドのどれかをコールすることができます。
  </p>
  <div class="example">
   <p><b>Example#5 <span class="classname">ReflectionMethod</span>クラスの使用</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Counter<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;カウンタをインクリメントする<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@final<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@static<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@access&nbsp;&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;&nbsp;int<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">increment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;++</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;ReflectionMethod&nbsp;クラスのインスタンスを生成する<br /></span><span style="color: #0000BB">$method&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionMethod</span><span style="color: #007700">(</span><span style="color: #DD0000">'Counter'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'increment'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;基本情報を表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;The&nbsp;%s%s%s%s%s%s%s&nbsp;method&nbsp;'%s'&nbsp;(which&nbsp;is&nbsp;%s)\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;declared&nbsp;in&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines&nbsp;%d&nbsp;to&nbsp;%d\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;having&nbsp;the&nbsp;modifiers&nbsp;%d[%s]\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInternal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'internal'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'user-defined'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isAbstract</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;abstract'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isFinal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;final'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPublic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;public'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPrivate</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;private'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isProtected</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;protected'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isStatic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;static'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isConstructor</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'the&nbsp;constructor'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'a&nbsp;regular&nbsp;method'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStartLine</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEndline</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">()))<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;ドキュメントコメントを表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Documentation:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDocComment</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;static&nbsp;変数があれば表示する<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$statics</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Static&nbsp;variables:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$statics</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;メソッドを呼び出す<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Invokation&nbsp;results&nbsp;in:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">invoke</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    private, protectedまたはabstractメソッドのinvokeを行うと、
    <b>invoke()</b>から例外がスローされます。
   </span>
  </p></blockquote>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    上記のstaticメソッドの場合、
    <b>invoke()</b>の最初の引数にNULLを渡す必要があります。
    staticでないメソッドの場合、ここにクラスのインスタンスを指定してください。
   </span>
  </p></blockquote>
 </div>

 <div id="language.oop5.reflection.reflectionproperty" class="sect2">
  <h3 class="title"><span class="classname">ReflectionProperty</span></h3>
  <p class="para">
   <span class="classname">ReflectionProperty</span>クラスにより、
   クラスプロパティに関する
   リバースエンジニアリングが可能となります。
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionProperty&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPublic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPrivate</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isProtected</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isStatic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDefault</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getModifiers</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;setValue</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getDeclaringClass</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   プロパティの内部を調べるために、まず、
   <span class="classname">ReflectionProperty</span>クラスのインスタンスを
   生成する必要があります。
   次にこのインスタンスの上のメソッドのどれかをコールすることができます。
  </p>
  <div class="example">
   <p><b>Example#6 <span class="classname">ReflectionProperty</span>クラスの使用</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">String<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$length&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;ReflectionProperty&nbsp;クラスのインスタンスを生成する<br /></span><span style="color: #0000BB">$prop&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionProperty</span><span style="color: #007700">(</span><span style="color: #DD0000">'String'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'length'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;基本情報を表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;The%s%s%s%s&nbsp;property&nbsp;'%s'&nbsp;(which&nbsp;was&nbsp;%s)\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;having&nbsp;the&nbsp;modifiers&nbsp;%s\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPublic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;public'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPrivate</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;private'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isProtected</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;protected'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isStatic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;static'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isDefault</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'declared&nbsp;at&nbsp;compile-time'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'created&nbsp;at&nbsp;run-time'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">()),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;String&nbsp;のインスタンスを生成する<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">String</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;現在の値を取得する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Value&nbsp;is:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;値を変更する<br /></span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Setting&nbsp;value&nbsp;to&nbsp;10,&nbsp;new&nbsp;value&nbsp;is:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;オブジェクトをダンプする<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    privateまたはprotectedクラスプロパティの値の取得または設定を
    行うと、例外がスローされます。
   </span>
  </p></blockquote>
 </div>

 <div id="language.oop5.reflection.reflectionextension" class="sect2">
  <h3 class="title"><span class="classname">ReflectionExtension</span></h3>
  <p class="para">
   The <span class="classname">ReflectionExtension</span>クラスにより、
   エクステンションのリバースエンジニアリングが可能となります。
   実行時にロードされている全てのエクステンションを
   <a href="function.get-loaded-extensions.html" class="function">get_loaded_extensions()</a>により取得することができます。
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionExtension&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getVersion</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getFunctions</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getINIEntries</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getClasses</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getClassNames</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;info</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   メソッドの内部を調べるために、まず、
   <span class="classname">ReflectionExtension</span>クラスのインスタンスを
   生成する必要があります。
   次にこのインスタンスの上のメソッドのどれかをコールすることができます。
  </p>
  <div class="example">
   <p><b>Example#7 <span class="classname">ReflectionExtension</span>クラスの使用</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;ReflectionProperty&nbsp;クラスのインスタンスを生成する<br /></span><span style="color: #0000BB">$ext&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionExtension</span><span style="color: #007700">(</span><span style="color: #DD0000">'standard'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;基本情報を表示する<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Functions&nbsp;&nbsp;&nbsp;:&nbsp;[%d]&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Constants&nbsp;&nbsp;&nbsp;:&nbsp;[%d]&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"INI&nbsp;entries&nbsp;:&nbsp;[%d]&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Classes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;[%d]&nbsp;%s\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getVersion</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getVersion</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #DD0000">'NO_VERSION'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFunctions</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFunctions</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getINIEntries</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getINIEntries</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getClassNames</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getClassNames</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div id="language.oop5.reflection.extending" class="sect2">
  <h3 class="title">reflectionクラスを拡張する</h3>
  <p class="para">
   組み込みクラスの特別なバージョンを作成したい場合
   (例えば、、エクスポートする際に、色づけしたHTMLを作成したり、
   メソッドの代わりに簡単にアクセスできるメンバー変数を作成したり、
   補助的なメソッドを作成したり、)、
   Reflectionクラスを拡張することができます。
  </p>
  <div class="example">
   <p><b>Example#8 組み込みクラスを拡張する</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;独自の&nbsp;Reflection_Method&nbsp;クラス<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">My_Reflection_Method&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionMethod<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$visibility&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">visibility&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;デモクラス&nbsp;#1<br />&nbsp;*<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">T&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;デモクラス&nbsp;#2<br />&nbsp;*<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">U&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">T&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;基本情報を表示する<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">My_Reflection_Method</span><span style="color: #007700">(</span><span style="color: #DD0000">'U'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'x'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote><p><b class="note">注意</b>: 
   <span class="simpara">
    注意: Iコンストラクタを上書きした場合、
    挿入するコードの前に
    親クラスのコンストラクタをコールしわすれないようにしてください。
    これを怠ると、以下のようなエラーを発生します。
    <i class="literal">
     Fatal error: Internal error: Failed to retrieve the reflection object
    </i>
   </span>
  </p></blockquote>
 </div>
</div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="language.oop5.object-comparison.html">オブジェクトの比較</a></div>
 <div class="next" style="float: right;"><a href="language.oop5.typehinting.html">タイプヒンティング</a></div>
 <div class="up"><a href="language.oop5.html">クラスとオブジェクト (PHP 5)</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
